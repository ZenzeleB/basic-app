{"ts":1363813820487,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"var mongo = require('mongoskin');\n\nvar conn = mongo.db('mongodb://zenzele:zenzele@widmore.mongohq.com:10010/Barnes')\n\nexports.list = function(req, res){\n    conn.collection(\"meetingGroups\").find({}).toArray(function(err,result) {\n       if (err) throw err;\n       console.log(result);\n       res.render(\"meetingGroupsList\",{ title:\"Meeting Groups\",meetingGroups:result});\n    });\n};\n\nexports.edit = function(req, res){\n    console.log(req.params.id);\n    conn.collection(\"meetingGroups\").findOne({_id : conn.ObjectID.createFromHexString(req.params.id) },function(err,result) {\n       if (err) throw err;\n       console.log(result);\n       res.render(\"meetingGroupEdit\",{ title:\"Meeting Groups\",meetingGroup:result});\n    });\n};\n\nexports.create = function(req, res){\n  conn.collection(\"meetingGroups\").insert({name: req.body.name }, function(err,result) {\n       if (err) throw err;\n       console.log(result);\n       res.redirect('/meetingGroups')\n    });\n};\n\nexports.update = function(req, res){\n    conn.collection(\"meetingGroups\").findOne({_id : conn.ObjectID.createFromHexString(req.params.id) },function(err,result) {\n       if (err) throw err;\n       \n       // Update the object based upon our edit form\n       result.name = req.body.name;\n       result.webUrl = req.body.webUrl;\n       \n       // Save it back to the database\n       conn.collection(\"meetingGroups\").save(result,function(err,result) {\n            res.redirect(\"/meetingGroups\");   \n       })\n       \n       \n    });\n};\n\nexports.del = function(req, res){\n  conn.collection(\"meetingGroups\").remove({_id : conn.ObjectID.createFromHexString(req.params.id) },function(err) {\n       if (err) throw err;\n       \n       res.redirect(\"/meetingGroups\");\n       \n    });\n};"]],"start1":0,"start2":0,"length1":0,"length2":1736}]],"length":1736}
